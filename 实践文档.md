# 纯Java框架实践文档

## 版本管理

采用git作为版本管理，理由是能够方便的创建分支并合并

## 开发

* 采用前后端完全分离

* 前端自行维护完整路由表

* 后端只告知哪些功能项对于登陆用户是可用的

* 权限校验完全由后台掌控

* 数据校验也有后台解决，前端只保证用户体验的校验

* 前后端通过功能名称及Api文档来关联

* 后台采用Swagger注解，并且依据Swagger注解自动将开发代码变为开发文档

* 因为采用了Hibernate作为对象持久化管理组件，开发人员无需关心底层的建表，只需要关注对象之间的关系

* 部署Nginx反响代理解决前后端跨域问题

```conf
server
{
    charset utf-8;
    access_log /home/logs/access.log;
    error_log /home/logs/error.log;
    listen 80;
    root /home/rzzl-admin/dist;
    location / {
        try_files $uri $uri/ @router;
        index index.html;
    }

    location ^~ /api {
        rewrite  ^/api/(.*)$ /$1 break;
        proxy_pass http://127.0.0.1:8080;
     }

    location @router {
        rewrite ^.*$ /index.html last;
    }
}
```

## 最佳实践

* 对于查询列表的操作，应该对Controller如下写

```java
@RequestMapping
@ResponseBody
public Response listxxxx(@RequestBody Data data, HttpServletResponse resp){
    resp.setHeader("pageNum",1);
    resp.setHeader("pageSize",50);
    resp.setHeader("totalPage",20);
    resp.setHeader("totalElement",500);
}
```

* 对于前端页面应该从http.headers中获取数据

* 前端查询提交分页请求时，应在Header中增添pageNum和pageSize两个参数,默认请求是第一页，每页20个元素

* 约定，每个页面对应的应该是个聚合根对象结构体